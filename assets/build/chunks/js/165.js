"use strict";(globalThis.webpackChunkpoptics=globalThis.webpackChunkpoptics||[]).push([[165],{92911:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(51609),l=a.n(n),r=a(46942),s=a.n(r),i=a(19853),c=a(42704),o=a(62279),p=a(38353),m=a(4650);const d=l().forwardRef(((e,t)=>{const{prefixCls:a,rootClassName:n,className:r,style:d,flex:u,gap:g,children:f,vertical:b=!1,component:y="div"}=e,x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(a[n[l]]=e[n[l]])}return a}(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:v,direction:E,getPrefixCls:h}=l().useContext(o.QO),w=h("flex",a),[S,C,A]=(0,p.A)(w),j=null!=b?b:null==v?void 0:v.vertical,_=s()(r,n,null==v?void 0:v.className,w,C,A,(0,m.Ay)(w,e),{[`${w}-rtl`]:"rtl"===E,[`${w}-gap-${g}`]:(0,c.X)(g),[`${w}-vertical`]:j}),N=Object.assign(Object.assign({},null==v?void 0:v.style),d);return u&&(N.flex=u),g&&!(0,c.X)(g)&&(N.gap=g),S(l().createElement(y,Object.assign({ref:t,className:_,style:N},(0,i.A)(x,["justify","wrap","align"])),f))}))},38353:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(72183),l=a(80336),r=a(4650);const s=e=>{const{componentCls:t}=e;return{[t]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},i=e=>{const{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}}},c=e=>{const{componentCls:t}=e,a={};return r.iI.forEach((e=>{a[`${t}-wrap-${e}`]={flexWrap:e}})),a},o=e=>{const{componentCls:t}=e,a={};return r.yK.forEach((e=>{a[`${t}-align-${e}`]={alignItems:e}})),a},p=e=>{const{componentCls:t}=e,a={};return r.AW.forEach((e=>{a[`${t}-justify-${e}`]={justifyContent:e}})),a},m=(0,n.OF)("Flex",(e=>{const{paddingXS:t,padding:a,paddingLG:n}=e,r=(0,l.h1)(e,{flexGapSM:t,flexGap:a,flexGapLG:n});return[s(r),i(r),c(r),o(r),p(r)]}),(()=>({})),{resetStyle:!1})},4650:(e,t,a)=>{a.d(t,{AW:()=>s,Ay:()=>c,iI:()=>r,yK:()=>i});var n=a(46942),l=a.n(n);const r=["wrap","nowrap","wrap-reverse"],s=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],i=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],c=function(e,t){return l()(Object.assign(Object.assign(Object.assign({},((e,t)=>{const a=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${a}`]:a&&r.includes(a)}})(e,t)),((e,t)=>{const a={};return i.forEach((n=>{a[`${e}-align-${n}`]=t.align===n})),a[`${e}-align-stretch`]=!t.align&&!!t.vertical,a})(e,t)),((e,t)=>{const a={};return s.forEach((n=>{a[`${e}-justify-${n}`]=t.justify===n})),a})(e,t)))}},19546:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(51609),l=a(86087),r=a(92911),s=a(38915),i=a(90070);const c=e=>{const{label:t,subText:a,name:l,items:c}=e;return(0,n.createElement)(s.Card,{bordered:!1},(0,n.createElement)(r.A,{gap:"large",align:"center",justify:"space-between"},(0,n.createElement)(i.A,{direction:"vertical",size:0},(0,n.createElement)(s.Text,{text:t,className:"pt-control-title"}),(0,n.createElement)(s.Text,{text:a,className:"pt-control-description"})),(0,n.createElement)(s.FormItem,{className:"pt-no-margin-form-item",name:l},(0,n.createElement)(s.SelectInput,{placeholder:"select time",options:c}))))},{__}=wp.i18n,o=({label:e,subText:t,name:a,initialValue:l})=>(0,n.createElement)(s.Card,{bordered:!1},(0,n.createElement)(r.A,{gap:"large",align:"center",justify:"space-between"},(0,n.createElement)(i.A,{direction:"vertical",size:0},(0,n.createElement)(s.Text,{text:e,className:"pt-control-title"}),(0,n.createElement)(s.Text,{text:t,className:"pt-control-description"})),(0,n.createElement)(s.FormItem,{className:"pt-no-margin-form-item",name:a},(0,n.createElement)(s.Switch,{defaultChecked:!0,checked:l})))),{__:p}=wp.i18n,{__:m}=wp.i18n,d=[{value:"1_year",label:m("1 Year","poptics")},{value:"2_years",label:m("2 Years","poptics")},{value:"5_years",label:m("5 Years","poptics")},{value:"forever",label:m("Keep Forever","poptics")}],u=[{name:m("Advanced","poptics"),form:(0,n.createElement)((()=>{const e=[{label:__("Data Analytics Log","poptics"),subText:__("Select a time option to delete old campaign data automatically after the period. Note: Store campaign data in the database. Remember, deleted data won't appear in Analytics.","poptics"),name:["advanced","maximum_storage_period"],items:d}];return(0,n.createElement)(c,{...e[0]})}),null)},{name:m("Data","poptics"),form:(0,n.createElement)((()=>{const e=[{label:p("Data Records","poptics"),subText:p("Keep data by enabling the button, and remove all data by disabling it during uninstallation.","poptics"),name:["data","keep_data_on_uninstall"]}];return(0,n.createElement)(o,{...e[0]})}),null)}],g=(0,l.createContext)();var f=a(21437),b=a(33713);var y=a(46023);const{__:x}=wp.i18n,v=()=>{const{settings:e}=(0,l.useContext)(b.t),{editLoading:t}=(0,l.useContext)(g),[a,i]=(0,l.useState)(u[0].name),{editSettings:c}=(()=>{const{setAdminStates:e}=(0,l.useContext)(b.t),{setSettingsState:t}=(0,l.useContext)(g);return{editSettings:async a=>{try{t((e=>({...e,editLoading:!0}))),await f.A.settings.addSettings(a),e((e=>({...e,settings:a})))}catch(e){console.log(e)}finally{t((e=>({...e,editLoading:!1})))}}}})(),o=(0,l.useRef)(null),p=()=>{o.current?.form?.setFieldsValue(y.defaultSettings),c(y.defaultSettings)};return(0,n.createElement)(s.Form,{ref:o,layout:"vertical",initialValues:e,onFinish:e=>{c(e)}},(0,n.createElement)(s.Tabs,{className:"pt-settings-tab",activeKey:a,tabPosition:"left",items:u.map((e=>({key:e.name,label:e.name,children:(0,n.createElement)(r.A,{gap:"middle",vertical:!0},(0,n.createElement)(r.A,{align:"center",justify:"space-between",wrap:!0},(0,n.createElement)(s.Text,{className:"pt-campaign-edit-title",text:a,level:4}),(0,n.createElement)(r.A,{justify:"flex-end",gap:"small"},(0,n.createElement)(s.Button,{"aria-label":x("reset settings","poptics"),size:window.innerWidth>992&&"large",className:"pt-light-btn",type:"primary",text:x("Reset All Settings","poptics"),htmlType:"button",onClick:p,loading:t}),(0,n.createElement)(s.Button,{"aria-label":x("save","poptics"),size:window.innerWidth>992&&"large",type:"primary",text:x("Save","poptics"),htmlType:"submit",loading:t}))),e.form)}))),onChange:e=>{i(e)}}))},{__:E}=wp.i18n,h=(w=()=>{const{settings:e}=(0,l.useContext)(b.t);return(0,n.createElement)(s.RowSkeleton,{loading:!e},(0,n.createElement)(r.A,{vertical:!0,gap:"large"},(0,n.createElement)(s.Title,{level:3,text:E("Settings","poptics"),className:"pt-page-heading"}),(0,n.createElement)(v,null)))},e=>{const t={editLoading:!1},[a,r]=(0,l.useState)(t);return(0,n.createElement)(g.Provider,{value:{...a,setSettingsState:r,resetSettings:()=>{r(t)}}},(0,n.createElement)(w,{...e}))});var w}}]);