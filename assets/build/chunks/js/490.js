"use strict";(globalThis.webpackChunkpoptics=globalThis.webpackChunkpoptics||[]).push([[490],{52741:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(51609),n=a(46942),r=a.n(n),o=a(62279),i=a(55279);const c=e=>{const{getPrefixCls:t,direction:a,divider:n}=l.useContext(o.QO),{prefixCls:c,type:s="horizontal",orientation:m="center",orientationMargin:p,className:d,rootClassName:u,children:g,dashed:y,plain:x,style:E}=e,h=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]])}return a}(e,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),v=t("divider",c),[f,T,b]=(0,i.A)(v),w=!!g,A="left"===m&&null!=p,C="right"===m&&null!=p,_=r()(v,null==n?void 0:n.className,T,b,`${v}-${s}`,{[`${v}-with-text`]:w,[`${v}-with-text-${m}`]:w,[`${v}-dashed`]:!!y,[`${v}-plain`]:!!x,[`${v}-rtl`]:"rtl"===a,[`${v}-no-default-orientation-margin-left`]:A,[`${v}-no-default-orientation-margin-right`]:C},d,u),N=l.useMemo((()=>"number"==typeof p?p:/^\d+$/.test(p)?Number(p):p),[p]),S=Object.assign(Object.assign({},A&&{marginLeft:N}),C&&{marginRight:N});return f(l.createElement("div",Object.assign({className:_,style:Object.assign(Object.assign({},null==n?void 0:n.style),E)},h,{role:"separator"}),g&&"vertical"!==s&&l.createElement("span",{className:`${v}-inner-text`,style:S},g)))}},55279:(e,t,a)=>{a.d(t,{A:()=>c});var l=a(54018),n=a(25905),r=a(72183),o=a(80336);const i=e=>{const{componentCls:t,sizePaddingEdgeHorizontal:a,colorSplit:r,lineWidth:o,textPaddingInline:i,orientationMargin:c,verticalMarginInline:s}=e;return{[t]:Object.assign(Object.assign({},(0,n.dF)(e)),{borderBlockStart:`${(0,l.zA)(o)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:s,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,l.zA)(o)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,l.zA)(e.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${t}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,l.zA)(e.dividerHorizontalWithTextGutterMargin)} 0`,color:e.colorTextHeading,fontWeight:500,fontSize:e.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,l.zA)(o)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${t}-with-text-left`]:{"&::before":{width:`calc(${c} * 100%)`},"&::after":{width:`calc(100% - ${c} * 100%)`}},[`&-horizontal${t}-with-text-right`]:{"&::before":{width:`calc(100% - ${c} * 100%)`},"&::after":{width:`calc(${c} * 100%)`}},[`${t}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:i},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${(0,l.zA)(o)} 0 0`},[`&-horizontal${t}-with-text${t}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${t}-dashed`]:{borderInlineStartWidth:o,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${t}-with-text`]:{color:e.colorText,fontWeight:"normal",fontSize:e.fontSize},[`&-horizontal${t}-with-text-left${t}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${t}-inner-text`]:{paddingInlineStart:a}},[`&-horizontal${t}-with-text-right${t}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${t}-inner-text`]:{paddingInlineEnd:a}}})}},c=(0,r.OF)("Divider",(e=>{const t=(0,o.h1)(e,{dividerHorizontalWithTextGutterMargin:e.margin,dividerHorizontalGutterMargin:e.marginLG,sizePaddingEdgeHorizontal:0});return[i(t)]}),(e=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:e.marginXS})),{unitless:{orientationMargin:!0}})},609:(e,t,a)=>{a.d(t,{J:()=>o});var l=a(51609),n=a(36877),r=a(38915);const{__}=wp.i18n,o=({type:e,className:t=""})=>{const{icon:a=null,term_name:o="",name:i=""}=e||{};return i||o?(0,l.createElement)("div",{className:"pt-popup-type-outline"},(0,l.createElement)("div",{className:`pt-types-wrapper ${t}`},a?(0,l.createElement)(n.A,{alt:__("logo","poptics"),size:20,src:a}):null,(0,l.createElement)(r.Text,{text:o||i}))):null}},75927:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(51609),n=a(92911),r=a(38915),o=a(21863);const{__}=wp.i18n,i=e=>{const{deviceType:t,setDeviceType:a,float:i}=e,c=[{icon:(0,l.createElement)(o.DesktopPreviewIcon,null),key:"desktop"},{icon:(0,l.createElement)(o.MobilePreviewIcon,null),key:"mobile"}];return(0,l.createElement)(n.A,{align:"center",className:`pt-campaign-device-preview ${i&&"pt-preview-float-btn"}`},c.map((e=>(0,l.createElement)(r.Button,{"aria-label":__("preview button","poptics"),key:e.key,type:"text",icon:e.icon,onClick:()=>{return t=e.key,void a((e=>({...e,deviceType:t})));var t},className:`pt-device-preview-btn ${t===e.key&&"pt-device-preview-btn-active"}`}))))}},13225:(e,t,a)=>{a.d(t,{A:()=>o});var l=a(51609),n=a(38915),r=a(21863);const{__}=wp.i18n,o=()=>(0,l.createElement)("div",{className:"pt-filter-by"},(0,l.createElement)(r.ListFilterIcon,null),(0,l.createElement)(n.Text,{text:__("Filter By","poptics")}))},42759:(e,t,a)=>{a.d(t,{A:()=>i});var l=a(51609),n=a(86087),r=a(38915),o=a(21863);const{__}=wp.i18n,i=({searchFunc:e,placeholder:t})=>{const[a,i]=(0,n.useState)(!1),c=function(e,t){let a;return function(t){let l=this;clearTimeout(a),a=setTimeout((async()=>{i(!0),(await e.apply(l,[{search_key:t}])).complete&&i(!1)}),500)}}(e);return(0,l.createElement)(r.Input,{disabled:a,size:"large",className:"pt-search-input",placeholder:t||__("Search","poptics"),prefix:(0,l.createElement)(o.SearchIcon,{color:"#6B7280"}),onChange:e=>c(e.target.value)})}},89121:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ee});var l=a(51609),n=a(86087),r=a(47152),o=a(16370),i=a(92911),c=a(52741),s=a(38915),m=a(42759),p=a(93644),d=a(609);const u=(0,n.createContext)(),{__}=wp.i18n,g=()=>{const e=(0,n.useContext)(u),{setTemplateStates:t,goals:a,types:r,events:o}=e;return(0,l.createElement)(i.A,{className:"pt-template-left-sidebar",vertical:!0,gap:"middle"},(0,l.createElement)(p.A,{header:(0,l.createElement)(s.Text,{text:__("Popup Types","poptics")}),itemLayout:"horizontal",dataSource:r||[],className:"pt-templates-sidebar-list",renderItem:a=>(0,l.createElement)(p.A.Item,{actions:[(0,l.createElement)(s.CheckBox,{onChange:()=>{return e=a?.term_id,void t((t=>t?.selectedTypes?.includes(e)?{...t,selectedTypes:t?.selectedTypes?.filter((t=>t!==e))}:{...t,selectedTypes:[...t?.selectedTypes,e]}));var e},checked:e?.selectedTypes?.includes(a?.term_id)},(0,l.createElement)(d.J,{type:a}))]})}),(0,l.createElement)(p.A,{header:(0,l.createElement)(s.Text,{text:__("Goal","poptics")}),itemLayout:"horizontal",dataSource:a||[],className:"pt-templates-sidebar-list",renderItem:a=>(0,l.createElement)(p.A.Item,{actions:[(0,l.createElement)(s.CheckBox,{checked:e?.selectedGoals?.includes(a?.term_id),onChange:()=>{return e=a?.term_id,void t((t=>t?.selectedGoals?.includes(e)?{...t,selectedGoals:t?.selectedGoals?.filter((t=>t!==e))}:{...t,selectedGoals:[...t?.selectedGoals,e]}));var e}},(0,l.createElement)(d.J,{type:a}))]})}),(0,l.createElement)(p.A,{header:(0,l.createElement)(s.Text,{text:__("Events","poptics")}),itemLayout:"horizontal",dataSource:o||[],className:"pt-templates-sidebar-list",renderItem:a=>(0,l.createElement)(p.A.Item,{actions:[(0,l.createElement)(s.CheckBox,{checked:e?.selectedEvents?.includes(a?.term_id),onChange:()=>{return e=a?.term_id,void t((t=>t?.selectedEvents?.includes(e)?{...t,selectedEvents:t?.selectedEvents?.filter((t=>t!==e))}:{...t,selectedEvents:[...t?.selectedEvents,e]}));var e}},(0,l.createElement)(d.J,{type:a}))]})}))};var y=a(13225),x=a(21863);const E=a.p+"chunks/images/placeholder.jpg",{__:h}=wp.i18n,v=E,f=[{term_id:-1,name:h("Lightbox","poptics"),icon:""},{term_id:-2,name:h("Sidebar","poptics"),icon:""}],T=[{term_id:-3,name:h("Collect Lead","poptics"),icon:""},{term_id:-4,name:h("Increase Social Media Following","poptics"),icon:""}],b="recommendation",w="popularity",A=[{label:h("Recommendation","poptics"),value:b},{label:h("Popularity","poptics"),value:w},{label:h("New","poptics"),value:"new"}],C="event",_=({item:e})=>{const{setTemplateStates:t}=(0,n.useContext)(u);return(0,l.createElement)(i.A,{align:"center",gap:"small",onClick:()=>{"popupTypes"===e?.type?t((t=>({...t,selectedTypes:t?.selectedTypes?.filter((t=>t!==e?.value?.term_id))}))):"goal"===e?.type?t((t=>({...t,selectedGoals:t?.selectedGoals?.filter((t=>t!==e?.value?.term_id))}))):e?.type===C&&t((t=>({...t,selectedEvents:t?.selectedEvents?.filter((t=>t!==e?.value?.term_id))})))},className:"pt-filter-item-container"},(0,l.createElement)(s.Text,{ellipsis:{tooltip:e?.value?.term_name},text:e?.value?.term_name,className:"pt-top-filter-text"}),(0,l.createElement)(x.FilterCrossIcon,null))},{__:N}=wp.i18n,S=()=>{const e=(0,n.useContext)(u),{selectedTypes:t,selectedGoals:a,selectedEvents:r,setTemplateStates:o,goals:c,types:m,events:p}=e;return(0,l.createElement)(i.A,{wrap:!0,className:"pt-templates-top-filter-container",justify:"space-between",align:"start",gap:"middle"},(0,l.createElement)(i.A,{className:"pt-templates-checkbox-filter-container",vertical:!0,gap:"small"},(0,l.createElement)(s.Text,{text:N("Previously Used","poptics"),className:"pt-template-card-group-container-title"}),0!==t?.length?(0,l.createElement)(i.A,{wrap:!0,gap:"small",align:"center"},(0,l.createElement)(s.Text,{className:"pt-templates-top-filter-key-text",text:N("Popup Type: ","poptics")}),t?.map((e=>(0,l.createElement)(_,{item:{type:"popupTypes",value:m.find((t=>t.term_id===e))}}))),0!==t?.length&&(0,l.createElement)(s.Text,{text:N("Clear All","poptics"),ellipsis:{tooltip:"Clear All"},onClick:()=>o((e=>({...e,selectedTypes:[]}))),className:"pt-templates-top-filter-clear-text"})):null,0!==a?.length?(0,l.createElement)(i.A,{wrap:!0,gap:"small",align:"center"},(0,l.createElement)(s.Text,{className:"pt-templates-top-filter-key-text",text:N("Goal: ","poptics")}),a?.map((e=>(0,l.createElement)(_,{item:{type:"goal",value:c.find((t=>t.term_id===e))}}))),0!==a?.length&&(0,l.createElement)(s.Text,{ellipsis:{tooltip:"Clear All"},text:N("Clear All","poptics"),onClick:()=>o((e=>({...e,selectedGoals:[]}))),className:"pt-templates-top-filter-clear-text"})):null,0!==r?.length?(0,l.createElement)(i.A,{wrap:!0,gap:"small",align:"center"},(0,l.createElement)(s.Text,{className:"pt-templates-top-filter-key-text",text:N("Event: ","poptics")}),r?.map((e=>(0,l.createElement)(_,{item:{type:C,value:p.find((t=>t.term_id===e))}}))),0!==r?.length&&(0,l.createElement)(s.Text,{ellipsis:{tooltip:"Clear All"},text:N("Clear All","poptics"),onClick:()=>o((e=>({...e,selectedEvents:[]}))),className:"pt-templates-top-filter-clear-text"})):null))};var k=a(47767),$=a(21437),I=a(46023);const z=function(){const e=(0,n.useContext)(u),{template:t,setTemplateStates:a,templateId:l,templatesList:r,taxonomyTypes:o,taxonomyGoals:i}=e,c=(0,k.Zp)(),s=wp.hooks.hasFilter("add_thumbnail_image","poptics-remote-addon");return{createCampaign:async e=>{try{let a;if(l){const{taxonomy:l,steps:n,controls:r}=t,o=e=>({term_id:l?.[e]?.term_id,name:l?.[e]?.name,icon:l?.[e]?.icon});a={type:o(I.taxonomy.type),goal:o(I.taxonomy.goal),steps:n,controls:r,...e}}else a={steps:I.defaultStep,controls:I.controls,...e};const n=await($.A?.campaign?.createCampaign(a));n?.success&&c(`/campaign/${n.data?.id}/update`)}catch(e){console.error(e)}},getTemplates:async()=>{let e;try{e=await($.A?.[s?"template":"remote"].getTemplates({})),e?.success&&a((t=>({...t,templatesList:e?.data?.items,goals:e?.data?.goals,types:e?.data?.types,events:e?.data?.events,total:e?.data?.total})))}catch(t){console.log(t),e=t}finally{e.success||a((e=>({...e,templatesList:[]})))}},getAllCategory:async(e={})=>{if(o&&i)return;let t;try{t=await($.A?.[s?"category":"remote"]?.getCategories(e)),t?.success&&a((e=>({...e,taxonomyGoals:t?.data?.category?.filter((e=>e.taxonomy===I.taxonomy.goal)),taxonomyTypes:t?.data?.category?.filter((e=>e.taxonomy===I.taxonomy.type))})))}catch(e){console.log(e),t=e}finally{t.success||a((e=>({...e,taxonomyTypes:f,taxonomyGoals:T})))}},populateSingleTempData:e=>{const t=r?.find((t=>t.id===e)),a=t?.taxonomy?.[I.taxonomy.event],l=r.filter((e=>e?.taxonomy?.[I.taxonomy.event].some((e=>a.some((t=>t.term_id===e.term_id))))));return{template:t,recommendedTemplates:l}}}},{__:G}=wp.i18n,M=({id:e})=>{const t=(0,n.useContext)(u),{setTemplateStates:a}=t,{populateSingleTempData:r}=z(),o=t=>{const l=r(e);a((a=>({...a,templateId:e,[t]:!0,...l})))};return(0,l.createElement)(i.A,{vertical:!0,gap:"small"},(0,l.createElement)(s.Button,{"aria-label":G("customize button","poptics"),type:"primary",text:G("Customize","poptics"),onClick:()=>o("openCreateCampModal")}),(0,l.createElement)(s.Button,{"aria-label":G("preview button","poptics"),text:G("Preview","poptics"),className:"pt-templates-preview-button",onClick:()=>o("openSingleTempModal")}))},{__:j}=wp.i18n,P=({data:e})=>(0,l.createElement)(i.A,{vertical:!0,className:"pt-template-card-container",justify:"space-between"},(0,l.createElement)(s.Img,{alt:j("template card image","poptics"),src:e?.thumbnail||v,height:"11rem",width:"100%",className:"pt-template-card-image",preview:{visible:!1,toolbarRender:()=>null,mask:(0,l.createElement)(M,{id:e?.id})}}),(0,l.createElement)(i.A,{vertical:!0,className:"pt-template-card-title-container"},(0,l.createElement)(s.Text,{text:e?.name,className:"pt-template-card-title"}),(0,l.createElement)(d.J,{type:e?.taxonomy?.[I.taxonomy.type]}))),{__:B}=wp.i18n,F=()=>{const e=(0,n.useContext)(u),{setTemplateStates:t}=e,{getAllCategory:a}=z();return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.A,{onClick:()=>{a(),t((e=>({...e,openCreateCampModal:!0,isFromScratch:!0})))},className:"pt-create-from-scratch-template-container"},(0,l.createElement)(s.Text,{className:"pt-template-plus",text:"+"}),(0,l.createElement)(s.Text,{className:"pt-create-campaign-text",text:B("Create from Scratch","poptics")})))};var O=a(90070);const{__:L}=wp.i18n,H=({data:e})=>{const t=(0,n.useContext)(u),{setTemplateStates:a}=t,r=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),o=((e={})=>{const t=[];for(let a in e)"boolean"==typeof e[a].value?t.push(r(a)):"string"==typeof e[a].value&&t.push(r(e[a].value));return t})(e?.controls?.audience);return(0,l.createElement)(i.A,{vertical:!0,gap:"large"},(0,l.createElement)(O.A,{direction:"vertical"},(0,l.createElement)(d.J,{type:e?.taxonomy?.[I.taxonomy.type]}),(0,l.createElement)(s.Text,{className:"pt-preview-modal-title",text:e?.name}),(0,l.createElement)(s.Button,{"aria-label":L("customize","poptics"),type:"primary",className:"pt-preview-modal-right-bar-btn",text:L("Customize","poptics"),onClick:()=>{a((e=>({...e,openCreateCampModal:!0})))}})),(0,l.createElement)(O.A,{direction:"vertical"},(0,l.createElement)(s.Text,{className:"pt-preview-modal-title-secondary",text:L("Summary","poptics")}),(0,l.createElement)(O.A,{direction:"vertical"},(0,l.createElement)(O.A,null,(0,l.createElement)(s.Text,{className:"pt-preview-modal-description-secondary",text:L("Goal: ","poptics")}),(0,l.createElement)(s.Text,{className:"pt-preview-modal-description-black",text:e?.taxonomy?.[I.taxonomy.goal]?.name})),(0,l.createElement)(O.A,{align:"top"},(0,l.createElement)(s.Text,{className:"pt-preview-modal-description-secondary",text:L("Audience: ","poptics")}),(0,l.createElement)(O.A,{direction:"vertical"},o?.map(((e,t)=>(0,l.createElement)(s.Text,{key:t,className:"pt-preview-modal-description-black",text:e}))))))))},{__:R}=wp.i18n,W=({recommendedTemplates:e})=>(0,l.createElement)(i.A,{vertical:!0,gap:"middle",className:"pt-template-card-group-container"},(0,l.createElement)(i.A,{justify:"space-between"},(0,l.createElement)(s.Text,{text:R("More templates from this tactic","poptics"),className:"pt-template-card-group-container-title"})),(0,l.createElement)(r.A,{md:24,gutter:[16,16]},e.length>0?e?.map((e=>(0,l.createElement)(o.A,{md:8,key:e?.id},(0,l.createElement)(P,{data:e})))):(0,l.createElement)(o.A,null,(0,l.createElement)(s.Text,{text:R("No recommended templates found!","poptics")}))));var D=a(75927),J=a(15791);const Q=({content:e})=>(0,l.createElement)("div",{dangerouslySetInnerHTML:{__html:(0,J.serializeData)(e)}}),U=()=>{const[e,t]=(0,n.useState)(0),a=(0,n.useContext)(u),{deviceType:r,template:o,setTemplateStates:c}=a;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(D.A,{deviceType:r,setDeviceType:c,float:!1}),(0,l.createElement)(s.Tabs,{tabPosition:"bottom",defaultActiveKey:e,items:o?.steps?.map(((t,a)=>({key:a,label:(0,l.createElement)(i.A,{justify:"center",align:"center",className:`pt-editor-steps pt-editor-steps-label ${e===a&&"pt-editor-steps-label-active"}`},(0,l.createElement)(s.Text,{text:t?.name})),children:(0,l.createElement)("div",{className:"pt-pages-tab-navigator-container"},(0,l.createElement)("div",{className:`pt-${r}-preview-container pt-preview-container`},(0,l.createElement)(Q,{content:t?.[r]?.content})))}))),onChange:e=>{t(e)}}))},Y=()=>{const e=(0,n.useContext)(u),{template:t,openSingleTempModal:a,recommendedTemplates:i,setTemplateStates:c}=e;return(0,l.createElement)(s.Modal,{open:a,onCancel:()=>{c((e=>({...e,openSingleTempModal:!1,templateId:null,template:null,deviceType:"desktop",recommendedTemplates:null})))},footer:()=>null,width:"72rem",className:"pt-templates-preview-modal",zIndex:9990},(0,l.createElement)(r.A,null,(0,l.createElement)(o.A,{md:18,className:"pt-preview-tab-left-container"},(0,l.createElement)(r.A,{md:24,align:"center",className:"pt-device-preview-tab-container"},(0,l.createElement)(o.A,{span:24},(0,l.createElement)(s.RowSkeleton,{rows:10,loading:!t},(0,l.createElement)(U,null))),(0,l.createElement)(o.A,{span:24},(0,l.createElement)(s.RowSkeleton,{rows:10,loading:!i},(0,l.createElement)(W,{recommendedTemplates:i}))))),(0,l.createElement)(o.A,{gutter:[10,20],md:6,className:"pt-preview-modal-right-bar"},(0,l.createElement)(s.RowSkeleton,{rows:10,loading:!t},(0,l.createElement)(H,{data:t})))))};var q=a(51643);const{__:K}=wp.i18n,X=()=>{const{createCampaign:e}=z(),t=(0,n.useContext)(u),[a,r]=(0,n.useState)(null),[o,c]=(0,n.useState)(null),{taxonomyGoals:m,taxonomyTypes:p,openCreateCampModal:g,openSingleTempModal:y,setTemplateStates:x,isFromScratch:E}=t,h=()=>{x((e=>{const t={...e,openCreateCampModal:!1};return E?{...t,isFromScratch:!1}:{...t,...!y&&{templateId:null,template:null,deviceType:"desktop",recommendedTemplates:null}}}))};return(0,l.createElement)(s.Modal,{open:g,onCancel:h,footer:null,zIndex:9991},E&&(0,l.createElement)(s.Title,{className:"pt-create-campaign-title",text:K("Create Campaign","poptics")}),(0,l.createElement)(s.Form,{onFinish:t=>{let l=m?.find((e=>e.term_id===t.goal)),n=p?.find((e=>e.term_id===t.type));l&&(t.goal={term_id:l.term_id,name:l.name,icon:l.icon}),n&&(t.type={term_id:n.term_id,name:n.name,icon:n.icon}),t={...t,thumbnail_id:a},e(t)},autoComplete:"off"},(0,l.createElement)(s.Title,{text:K("Campaign Name","poptics"),className:"pt-create-campaign-modal-input-header"}),(0,l.createElement)(s.TextInput,{name:"name",placeholder:K("Your Campaign Name","poptics"),rules:[{required:!0,message:K("Please enter campaign name","poptics")}]}),E&&(0,l.createElement)(s.RowSkeleton,{loading:!m&&!p},(0,l.createElement)(i.A,{vertical:!0},(0,l.createElement)(s.Title,{text:K("Select Popup Goal Optional","poptics"),className:"pt-create-campaign-modal-input-header"}),(0,l.createElement)(s.FormItem,{name:"goal"},(0,l.createElement)(q.Ay.Group,{className:"pt-create-campaign-modal-goal-container"},m?.map((e=>(0,l.createElement)(q.Ay,{className:"pt-radio-container",value:e.term_id},(0,l.createElement)(d.J,{type:e})))))),(0,l.createElement)(s.Title,{text:K("Select Popup Type","poptics"),className:"pt-create-campaign-modal-input-header"}),(0,l.createElement)(s.FormItem,{name:"type"},(0,l.createElement)(q.Ay.Group,{className:"pt-create-campaign-modal-type-container"},p?.map((e=>(0,l.createElement)(q.Ay,{value:e.term_id,className:"pt-create-campaign-modal-radio"},(0,l.createElement)("div",{className:"pt-types-wrapper pt-create-campaign-modal-type"},e.icon?(0,l.createElement)(s.Img,{alt:K("types image","poptics"),src:e.icon,height:25,width:25}):null,(0,l.createElement)(s.Text,{text:e.name}))))))),wp.hooks.applyFilters("add_thumbnail_image",null,{thumbnail:o,setThumbnail:c,setThumbnailId:r}))),(0,l.createElement)(i.A,{items:"center",justify:"space-between"},(0,l.createElement)(s.Button,{"aria-label":K("cancel","poptics"),type:"text",text:K("Cancel","poptics"),onClick:h,className:"pt-template-modal-cancel-text"}),(0,l.createElement)(s.Button,{"aria-label":K("submit","poptics"),htmlType:"submit",type:"primary",text:K("Continue","poptics")}))))},{__:Z}=wp.i18n,V=()=>{const e=(0,n.useContext)(u),{templatesList:t,selectedGoals:a,selectedTypes:p,selectedEvents:d}=e,[x,E]=(0,n.useState)(t);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.A,{gutter:[0,32],justify:"space-between",align:"center"},(0,l.createElement)(o.A,{xs:24,lg:7,xl:11,xxl:7},(0,l.createElement)(s.Title,{level:3,text:Z("Choose your template","poptics")})),(0,l.createElement)(o.A,{xs:24,lg:17,xl:13,xxl:17,className:"pt-template-search-input-container"},(0,l.createElement)(r.A,{gutter:[16,12],justify:{xs:"start",lg:"end"},align:"middle"},(0,l.createElement)(o.A,{xs:14,md:14,xl:14,xxl:10},(0,l.createElement)(r.A,{justify:{xs:"start",lg:"end"}},(0,l.createElement)(m.A,{placeholder:Z("Search","poptics")}))),(0,l.createElement)(o.A,{xs:12,md:10,xl:10,xxl:9},(0,l.createElement)(r.A,{justify:{xs:"start",lg:"end"}},(0,l.createElement)(i.A,{gap:"small",align:"center"},(0,l.createElement)(y.A,null),(0,l.createElement)(s.SelectInput,{placeholder:Z("Popup Type","poptics"),options:A,size:"large",onChange:e=>{if(e===b)E(t.filter((e=>e.is_post_recommended)));else if("new"===e)E(t);else if(e===w){let e=[...t]?.sort(((e,t)=>{const a=parseInt(e.total_import),l=parseInt(t.total_import);return isNaN(a)?1:isNaN(l)?-1:l-a}));E(e)}}})))))),(0,l.createElement)(c.A,null),(0,l.createElement)(o.A,{xs:24,md:8,xl:6,xxl:4},(0,l.createElement)(g,null)),(0,l.createElement)(o.A,{xs:24,md:15,lg:15,xl:17,xxl:19},(0,l.createElement)(S,null),(0,l.createElement)(r.A,{gutter:[15,15]},(0,l.createElement)(o.A,{xs:24,md:12,xl:6},(0,l.createElement)(F,null)),(e=>a?.length||p?.length||d?.length?e?.filter((e=>a.includes(e?.taxonomy?.[I.taxonomy.goal]?.term_id)||p.includes(e?.taxonomy?.[I.taxonomy.type]?.term_id)||e?.taxonomy?.[I.taxonomy.event]?.some((e=>d.includes(e?.term_id))))):e)(x)?.map((e=>(0,l.createElement)(o.A,{xs:24,md:12,xl:6},(0,l.createElement)(P,{data:e}))))))),(0,l.createElement)(X,null),(0,l.createElement)(Y,null))},ee=(te=()=>{const{getTemplates:e}=z();(0,n.useEffect)((()=>{e()}),[]);const t=(0,n.useContext)(u),{templatesList:a}=t;return a?(0,l.createElement)(V,null):(0,l.createElement)(l.Fragment,null,(0,l.createElement)(s.RowSkeleton,null))},e=>{const[t,a]=(0,n.useState)({templatesList:null,selectedTypes:[],selectedGoals:[],selectedEvents:[],goals:[],types:[],events:[],taxonomyGoals:null,taxonomyTypes:null,total:null,searchQuery:{search_key:"",type:"",goal:"",status:""},templateId:null,template:null,deviceType:"desktop",recommendedTemplates:null});return(0,l.createElement)(u.Provider,{value:{...t,setTemplateStates:a}},(0,l.createElement)(te,{...e}))});var te}}]);